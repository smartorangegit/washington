function Input(e,t){this.state={valid:!1,touched:!1},this.type="basic",this.container=e.querySelector(t),this.input=this.container.querySelector("input"),this.requiredMessage=this.container.querySelector(".validation-error_required"),this.validateInput=JSON.parse(this.input.dataset.required.toLowerCase())||!1,this.input.addEventListener("blur",function(){this.state.touched=!0,this.validateInput&&this.validateRequired()}.bind(this)),this.input.addEventListener("keyup",function(){this.validateInput&&this.validateRequired()}.bind(this))}function PhoneInput(e,t){Input.call(this,e,t);var n=this;this.type="phone",this.invalidPhoneMessage=this.container.querySelector(".validation-error_phone-format"),this.mask=new IMask(this.input,{mask:"+38(000)000-00-00"}),this.container.querySelector(".js-input-phone__international")&&($(this.container.querySelector(".js-input-phone__international")).intlTelInput({initialCountry:"UA",preferredCountries:["UA","RU"]}),$(this.container.querySelector(".js-input-phone__international")).on("countrychange",function(e,t){n.mask.value="",n.mask.updateOptions({mask:t.dialCode+"(000)000-00-00"})})),this.mask.on("accept",function(){this.state.valid=!1}.bind(this)),this.mask.on("complete",function(){this.validateRequired()&&(this.state.valid=!0,this.hideInvalidPhoneMessage())}.bind(this))}function EmailInput(e,t){Input.call(this,e,t),this.type="email",this.invalidEmailMessage=this.container.querySelector(".validation-error_email-format")}function MessageInput(e,t){this.validateInput=!1,this.state={valid:!0},this.type="message",this.container=e.querySelector(t),this.input=this.container.querySelector("textarea")}function Modal(e,t){function n(e){this.container.contains(e.target)&&e.target.parentNode!==this.closeBtn||(this.hideModal(),this.timed&&clearInterval(a),document.removeEventListener("click",i))}this.container=document.querySelector(e),this.closeBtn=this.container.querySelector(".modal__close-btn"),this.timed=t||!1;var a,i=n.bind(this);this.showModal=function(){hideScrollBar(),this.container.classList.add("modal__visible"),this.timed&&(a=setTimeout(function(){this.hideModal()}.bind(this),3e3)),document.addEventListener("click",i)},this.hideModal=function(){washingtonState.callbackOpen||showScrollBar(),this.container.classList.remove("modal__visible")}}var washingtonState={menuOpen:!1,callbackOpen:!1},sagapreloaderAnimation=function(){function e(){function e(e){return Math.ceil(100-e/r*100)}function t(){s-=l,i.style.strokeDashoffset=s,s>=0?(o.innerHTML=e(s)+"%",requestAnimationFrame(t)):n.classList.add("remove-svg")}var a=document.querySelector(".svg-circle"),i=document.querySelector(".svg-loading-circle"),o=document.querySelector(".svg-loading-circle__text"),s=236,r=s,l=2.5;n.style.display="block",a.addEventListener("animationstart",t)}function t(){if(null===localStorage.getItem("preloader"))return localStorage.setItem("preloader",Date.now()),!0;return!(Date.now()-localStorage.getItem("preloader")<36e5)&&(localStorage.setItem("preloader",Date.now()),!0)}var n=document.querySelector(".preloader-container");return{init:e,preloaderContainer:n,checkDate:t}}();sagapreloaderAnimation.checkDate()?sagapreloaderAnimation.init():sagapreloaderAnimation.preloaderContainer.style.display="none";var langMenu=function(){document.querySelector(".js-header__language").addEventListener("click",function(){this.classList.contains("header__language_closed")?this.classList.remove("header__language_closed"):this.classList.add("header__language_closed")})}(),animateHTMLCtrl=function(){function e(){o=document.querySelectorAll(".animate"),0===o.length&&(window.removeEventListener("scroll",r),window.removeEventListener("resize",l))}function t(){window.addEventListener("scroll",r),window.addEventListener("resize",l)}function n(){for(var t=0;t<o.length;t++){o[t].getBoundingClientRect().top-s<=-200&&o[t].classList.remove(i)}e()}function a(){t(),n()}var i="animate",o=document.querySelectorAll(".animate"),s=window.innerHeight,r=debounce(n,100),l=debounce(a,100);return setTimeout(n,500),{init:a}}();animateHTMLCtrl.init(),function(){function e(){i.cTab.forEach(function(e){e.classList.remove(n)})}function t(){i.cTabContent.forEach(function(e){e.classList.add(a)})}var n="contacts__tab_active",a="contacts__tab-content__hidden",i={cTabs:document.querySelector(".contacts__tabs"),cTab:document.querySelectorAll(".contacts__tab"),cTabContent:document.querySelectorAll(".contacts__tab-content")};i.cTabs&&i.cTabs.addEventListener("click",function(i){1!==Array.prototype.indexOf.call(i.target.classList)&&(e(),t(),i.target.classList.add(n),document.getElementById(i.target.dataset.tab).classList.remove(a))})}();var navFixed=function(){function e(){window.pageYOffset-300>n?t.classList.contains("header__fixed")||t.classList.add("header__fixed"):t.classList.remove("header__fixed")}var t=document.querySelector(".header"),n=t.offsetTop;window.addEventListener("scroll",e)}();Input.prototype.validateRequired=function(){if(""!==this.input.value)return this.hideRequiredMessage(),"basic"===this.type&&(this.state.valid=!0),!0;this.state.valid=!1,this.showRequiredMessage()},Input.prototype.showRequiredMessage=function(){this.addErrorClass(),this.requiredMessage.style.display="block"},Input.prototype.hideRequiredMessage=function(){this.removeErrorClass(),this.requiredMessage.style.display="none"},Input.prototype.addErrorClass=function(){this.input.classList.add("input__validation-error")},Input.prototype.removeErrorClass=function(){this.input.classList.remove("input__validation-error")},Input.prototype.validate=function(){this.validateInput?this.validateRequired():this.state.valid=!0},PhoneInput.prototype=Object.create(Input.prototype),PhoneInput.prototype.constructor=PhoneInput,PhoneInput.prototype.showInvalidPhoneMessage=function(){this.addErrorClass(),this.invalidPhoneMessage.style.display="block"},PhoneInput.prototype.hideInvalidPhoneMessage=function(){this.removeErrorClass(),this.invalidPhoneMessage.style.display="none"},PhoneInput.prototype.validatePhoneNumber=function(){this.mask.mask.length!==this.mask.value.length?(this.state.valid=!1,this.showInvalidPhoneMessage()):(this.state.valid=!0,this.hideInvalidPhoneMessage())},PhoneInput.prototype.validate=function(){this.validateInput?this.validateRequired()&&this.validatePhoneNumber():this.state.valid=!0},EmailInput.prototype=Object.create(Input.prototype),EmailInput.prototype.constructor=EmailInput,EmailInput.prototype.showInvalidEmailMessage=function(){this.invalidEmailMessage.style.display="block"},EmailInput.prototype.hideInvalidEmailMessage=function(){this.invalidEmailMessage.style.display="none"},EmailInput.prototype.validateEmail=function(){/(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(this.input.value)?(this.state.valid=!0,this.removeErrorClass(),this.hideInvalidEmailMessage()):(this.state.valid=!1,this.addErrorClass(),this.showInvalidEmailMessage())},EmailInput.prototype.validate=function(){this.validateInput?this.validateRequired()&&this.validateEmail():this.state.valid=!0},MessageInput.prototype=Object.create(Input.prototype),MessageInput.prototype.constructor=MessageInput;var contactsForm=function(){function e(e){function t(){var e=[];return a&&e.push(a),i&&e.push(i),o&&e.push(o),s&&s.input.value.length>0&&e.push(s),e}var n=document.getElementById(e);if(n){var a=n.querySelector(".js-input-name-container")?new Input(n,".js-input-name-container"):null,i=n.querySelector(".js-input-phone-container")?new PhoneInput(n,".js-input-phone-container"):null,o=n.querySelector(".js-input-email-container")?new EmailInput(n,".js-input-email-container"):null,s=n.querySelector(".js-input-message-container")?new MessageInput(n,".js-input-message-container"):null;n.addEventListener("submit",function(e){e.preventDefault();var a=t(),i="",o={type:n.querySelector('[name="typ"]'),webad:n.querySelector('[name="webad"]'),metka:n.querySelector('[name="metka"]'),inn:n.querySelector('[name="inn"]'),count:n.querySelector('[name="count"]')};a.forEach(function(e,t){i+=0===t?e.input.name+"="+encodeURIComponent(e.input.value):"&"+e.input.name+"="+encodeURIComponent(e.input.value),e.validate()});for(var s in o)i+="&"+s+"="+encodeURIComponent(o[s].value);if(a.every(function(e){return e.state.valid})){var r="http://"+window.location.hostname+"/wp-content/themes/washington/forms/application.php";PostFormData(r,i,function(e){console.log(e),document.querySelector(".js-callback-form").classList.add("callback-form_closed"),a.forEach(function(e){e.input.value=""})})}})}}e("callback-form"),e("contacts-form__callback-form"),e("contacts-form__email-form")}(),infoBlock=function(){if(document.querySelector(".js-info-block")){var e=document.querySelector(".js-info-block__close"),t=document.querySelector(".js-info-block"),n=!0;e.addEventListener("click",function(e){n?(t.classList.add("info-block__closed"),n=!1):(t.classList.remove("info-block__closed"),n=!0)})}}(),menuCtrl=function(){var e=document.querySelector(".js-menu"),t=document.querySelector(".js-menu-btn"),n=document.querySelector(".js-menu__close-btn"),a=function(){t=document.querySelector(".menu-none-js").style.display="block",e.classList.remove("menu_close"),e.classList.add("menu_open"),hideScrollBar(),washingtonState.menuOpen=!0},i=function(){e.classList.remove("menu_open"),e.classList.add("menu_close"),showScrollBar(),washingtonState.menuOpen=!1,setTimeout(function(){t=document.querySelector(".menu-none-js").style.display="none"},500)};t.addEventListener("click",a),n.addEventListener("click",i)}(),callbackFormCtrl=function(){var e=document.querySelector(".js-callback-form"),t=document.querySelectorAll(".js-callback-form__close-btn"),n=document.querySelectorAll(".js-open-callback-form"),a=function(t){t.preventDefault(),e.classList.remove("callback-form_closed"),washingtonState.menuOpen||hideScrollBar(),washingtonState.callbackOpen=!0},i=function(){e.classList.add("callback-form_closed"),washingtonState.menuOpen||showScrollBar(),washingtonState.callbackOpen=!1};n.forEach(function(e){e.addEventListener("click",a)}),t.forEach(function(e){e.addEventListener("click",i)})}();