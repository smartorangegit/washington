function Input(t,e){this.state={valid:!1,touched:!1},this.type="basic",this.container=t.querySelector(e),this.input=this.container.querySelector("input"),this.requiredMessage=this.container.querySelector(".validation-error_required"),this.validateInput=JSON.parse(this.input.dataset.required.toLowerCase())||!1,this.input.addEventListener("blur",function(){this.state.touched=!0,this.validateInput&&this.validateRequired()}.bind(this)),this.input.addEventListener("keyup",function(){this.validateInput&&this.validateRequired()}.bind(this))}function PhoneInput(t,e){Input.call(this,t,e);var n=this;this.type="phone",this.invalidPhoneMessage=this.container.querySelector(".validation-error_phone-format"),this.mask=new IMask(this.input,{mask:"+38(000)000-00-00"}),this.container.querySelector(".js-input-phone__international")&&($(this.container.querySelector(".js-input-phone__international")).intlTelInput({initialCountry:"UA",preferredCountries:["UA","RU"]}),$(this.container.querySelector(".js-input-phone__international")).on("countrychange",function(t,e){n.mask.value="",n.mask.updateOptions({mask:e.dialCode+"(000)000-00-00"})})),this.mask.on("accept",function(){this.state.valid=!1}.bind(this)),this.mask.on("complete",function(){this.validateRequired()&&(this.state.valid=!0,this.hideInvalidPhoneMessage())}.bind(this))}function EmailInput(t,e){Input.call(this,t,e),this.type="email",this.invalidEmailMessage=this.container.querySelector(".validation-error_email-format")}function MessageInput(t,e){this.validateInput=!1,this.state={valid:!0},this.type="message",this.container=t.querySelector(e),this.input=this.container.querySelector("textarea")}function Modal(t,e){function n(t){this.container.contains(t.target)&&t.target.parentNode!==this.closeBtn||(this.hideModal(),this.timed&&clearInterval(i),document.removeEventListener("click",a))}this.container=document.querySelector(t),this.closeBtn=this.container.querySelector(".modal__close-btn"),this.timed=e||!1;var i,a=n.bind(this);this.showModal=function(){hideScrollBar(),this.container.classList.add("modal__visible"),this.timed&&(i=setTimeout(function(){this.hideModal()}.bind(this),3e3)),document.addEventListener("click",a)},this.hideModal=function(){o2AppState.callbackOpen||showScrollBar(),this.container.classList.remove("modal__visible")}}var animateHTMLCtrl=function(){function t(){o=document.querySelectorAll(".animate"),0===o.length&&(window.removeEventListener("scroll",r),window.removeEventListener("resize",l))}function e(){window.addEventListener("scroll",r),window.addEventListener("resize",l)}function n(){for(var e=0;e<o.length;e++){o[e].getBoundingClientRect().top-s<=-200&&o[e].classList.remove(a)}t()}function i(){e(),n()}var a="animate",o=document.querySelectorAll(".animate"),s=window.innerHeight,r=debounce(n,100),l=debounce(i,100);return setTimeout(n,500),{init:i}}();animateHTMLCtrl.init(),function(){function t(){Array.prototype.forEach.call(a.cTab,function(t){t.classList.remove(n)})}function e(){Array.prototype.forEach.call(a.cTabContent,function(t){t.classList.add(i)})}var n="contacts__tab_active",i="contacts__tab-content__hidden",a={cTabs:document.querySelector(".contacts__tabs"),cTab:document.querySelectorAll(".contacts__tab"),cTabContent:document.querySelectorAll(".contacts__tab-content")};a.cTabs&&a.cTabs.addEventListener("click",function(a){1!==Array.prototype.indexOf.call(a.target.classList)&&(t(),e(),a.target.classList.add(n),document.getElementById(a.target.dataset.tab).classList.remove(i))})}();var navFixed=function(){function t(){window.pageYOffset>n?e.classList.contains("header__fixed")||e.classList.add("header__fixed"):e.classList.remove("header__fixed")}var e=document.querySelector(".header"),n=e.offsetTop;window.addEventListener("scroll",debounce(t,100))}();Input.prototype.validateRequired=function(){if(""!==this.input.value)return this.hideRequiredMessage(),"basic"===this.type&&(this.state.valid=!0),!0;this.state.valid=!1,this.showRequiredMessage()},Input.prototype.showRequiredMessage=function(){this.addErrorClass(),this.requiredMessage.style.display="block"},Input.prototype.hideRequiredMessage=function(){this.removeErrorClass(),this.requiredMessage.style.display="none"},Input.prototype.addErrorClass=function(){this.input.classList.add("input__validation-error")},Input.prototype.removeErrorClass=function(){this.input.classList.remove("input__validation-error")},Input.prototype.validate=function(){this.validateInput?this.validateRequired():this.state.valid=!0},PhoneInput.prototype=Object.create(Input.prototype),PhoneInput.prototype.constructor=PhoneInput,PhoneInput.prototype.showInvalidPhoneMessage=function(){this.addErrorClass(),this.invalidPhoneMessage.style.display="block"},PhoneInput.prototype.hideInvalidPhoneMessage=function(){this.removeErrorClass(),this.invalidPhoneMessage.style.display="none"},PhoneInput.prototype.validatePhoneNumber=function(){this.mask.mask.length!==this.mask.value.length?(this.state.valid=!1,this.showInvalidPhoneMessage()):(this.state.valid=!0,this.hideInvalidPhoneMessage())},PhoneInput.prototype.validate=function(){this.validateInput?this.validateRequired()&&this.validatePhoneNumber():this.state.valid=!0},EmailInput.prototype=Object.create(Input.prototype),EmailInput.prototype.constructor=EmailInput,EmailInput.prototype.showInvalidEmailMessage=function(){this.invalidEmailMessage.style.display="block"},EmailInput.prototype.hideInvalidEmailMessage=function(){this.invalidEmailMessage.style.display="none"},EmailInput.prototype.validateEmail=function(){/(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(this.input.value)?(this.state.valid=!0,this.removeErrorClass(),this.hideInvalidEmailMessage()):(this.state.valid=!1,this.addErrorClass(),this.showInvalidEmailMessage())},EmailInput.prototype.validate=function(){this.validateInput?this.validateRequired()&&this.validateEmail():this.state.valid=!0},MessageInput.prototype=Object.create(Input.prototype),MessageInput.prototype.constructor=MessageInput;var contactsForm=function(){function t(t){function e(){var t=[];return i&&t.push(i),a&&t.push(a),o&&t.push(o),s&&s.input.value.length>0&&t.push(s),t}var n=document.getElementById(t);if(n){var i=n.querySelector(".js-input-name-container")?new Input(n,".js-input-name-container"):null,a=n.querySelector(".js-input-phone-container")?new PhoneInput(n,".js-input-phone-container"):null,o=n.querySelector(".js-input-email-container")?new EmailInput(n,".js-input-email-container"):null,s=n.querySelector(".js-input-message-container")?new MessageInput(n,".js-input-message-container"):null;n.addEventListener("submit",function(t){t.preventDefault();var i=e(),a="",o={type:n.querySelector('[name="typ"]'),webad:n.querySelector('[name="webad"]'),metka:n.querySelector('[name="metka"]'),inn:n.querySelector('[name="inn"]'),count:n.querySelector('[name="count"]')};i.forEach(function(t,e){a+=0===e?t.input.name+"="+encodeURIComponent(t.input.value):"&"+t.input.name+"="+encodeURIComponent(t.input.value),t.validate()});for(var s in o)a+="&"+s+"="+encodeURIComponent(o[s].value);if(i.every(function(t){return t.state.valid})){var r="http://"+window.location.hostname+"/wp-content/themes/o2/forms/application.php";PostFormData(r,a,function(t){console.log(t),successModal.showModal(),i.forEach(function(t){t.input.value=""})})}})}}t("contacts-form__callback-form"),t("contacts-form__email-form")}(),infoBlock=function(){if(document.querySelector(".js-info-block")){var t=document.querySelector(".js-info-block__close"),e=document.querySelector(".js-info-block"),n=!0;t.addEventListener("click",function(t){n?(e.classList.add("info-block__closed"),n=!1):(e.classList.remove("info-block__closed"),n=!0)})}}();